import { ICaller, StoreSlice } from "./storeTypes";
import { SignalData } from "simple-peer";

const createCallerSlice: StoreSlice<ICaller> = (set) => ({
  callerUid: undefined,
  callerSignal: "",
  callerStream: null,
  connection: null,
  setCallerUid: (callerUid: string) => set(() => ({ callerUid: callerUid })),
  setCallerSignal: (callerSignal: SignalData | null) =>
    set(() => ({ callerSignal: callerSignal })),
  setCallerStream: (callerStream: MediaStream | null) =>
    set(() => ({ callerStream: callerStream })),
  setConnection: (peer: any) => set(() => ({ connection: peer })),
});

export default createCallerSlice;

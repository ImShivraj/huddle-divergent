import React, { FunctionComponent } from 'react';

// context api
import { DivergentAVClientContext } from './context';

// lib
import DivergentAVClient from './DivergentAVClient';
import { useDivergentStore } from '../index';

const DivergentAVClientProvider: FunctionComponent<{
  children: React.ReactNode;
  value: DivergentAVClient;
}> = ({ children, value }) => {
  const { getState } = useDivergentStore;

  DivergentAVClient.init(getState);

  return <DivergentAVClientContext.Provider value={value}> {children} </DivergentAVClientContext.Provider>;
};

export default DivergentAVClientProvider;

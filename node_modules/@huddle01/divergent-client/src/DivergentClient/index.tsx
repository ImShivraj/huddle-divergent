import React, { FunctionComponent } from 'react';

// context api
import { DivergentClientContext } from './context';

// lib
import DivergentClient from './DivergentClient';
import { useDivergentStore } from '../index';

const DivergentClientProvider: FunctionComponent<{
  children: React.ReactNode;
  value: DivergentClient;
}> = ({ children, value }) => {
  const { getState } = useDivergentStore;

  DivergentClient.init(getState);

  return <DivergentClientContext.Provider value={value}> {children} </DivergentClientContext.Provider>;
};

export default DivergentClientProvider;

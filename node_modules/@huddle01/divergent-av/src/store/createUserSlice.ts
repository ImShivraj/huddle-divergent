import { IUser, IUserInfo, StoreSlice } from "./storeTypes";

const createUserSlice: StoreSlice<IUser> = (set, get) => ({
  user: {
    uid: "",
    socket: "",
    node: "",
    avatarUrl: "",
    messages: [],
  },
  connection: null,
  peer: null,
  conversations: {},
  groups: {},
  syncMessages: [],
  incorrectKeys: false,
  setUser: (user: IUserInfo) => set(() => ({ user: user })),
  setPeer: (peer: any) => set(() => ({ peer: peer })),
  setConnection: (peer: any) => set(() => ({ connection: peer })),
});

export default createUserSlice;
